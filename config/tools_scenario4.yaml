# EdgeAgent Tool Configuration - Scenario 4: Image Processing
#
# Tool Chain: filesystem → image_resize → data_aggregate → filesystem
# Locations:  DEVICE     → EDGE         → EDGE           → DEVICE
#
# Use Case: Process local images, create thumbnails, find duplicates, generate report

tools:
  # filesystem: 파일시스템 접근 (DEVICE에만 필요)
  filesystem:
    profile:
      description: "Read, write, and search files on the filesystem"
      data_affinity: DEVICE
      compute_intensity: LOW
      data_flow: EXPANSION
      reduction_ratio: 10.0
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: true
      requires_gpu: false

    endpoints:
      DEVICE:
        transport: stdio
        command: mcp-server-filesystem
        args:
          - "/tmp/edgeagent_device"
        env: {}

  # image_resize: 이미지 처리 (리사이즈, 썸네일, 중복 검출)
  image_resize:
    profile:
      description: "Resize images, create thumbnails, and detect duplicates"
      data_affinity: EDGE
      compute_intensity: MEDIUM
      data_flow: REDUCTION
      reduction_ratio: 0.1
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: false  # Pillow is not WASI compatible
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/image_resize_server.py"
        env: {}

  # data_aggregate: 데이터 집계 및 병합
  data_aggregate:
    profile:
      description: "Aggregate, merge, and summarize structured data"
      data_affinity: EDGE
      compute_intensity: LOW
      data_flow: REDUCTION
      reduction_ratio: 0.01
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: true
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/data_aggregate_server.py"
        env: {}


static_mapping:
  filesystem: DEVICE
  image_resize: EDGE
  data_aggregate: EDGE
