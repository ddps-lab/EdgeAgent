# EdgeAgent Tool Configuration - Test Only
#
# Working servers only (filesystem + FastMCP)
# npm servers are excluded due to availability issues

tools:
  # ==========================================================================
  # 공식 MCP 서버 (npm) - filesystem only
  # ==========================================================================

  filesystem:
    profile:
      description: "Read, write, and search files on the filesystem"
      data_affinity: DEVICE
      compute_intensity: LOW
      data_flow: EXPANSION
      reduction_ratio: 10.0
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: true
      requires_gpu: false

    endpoints:
      DEVICE:
        transport: stdio
        command: npx
        args:
          - "-y"
          - "@modelcontextprotocol/server-filesystem"
          - "/tmp/edgeagent_device"
        env: {}

      EDGE:
        transport: stdio
        command: npx
        args:
          - "-y"
          - "@modelcontextprotocol/server-filesystem"
          - "/tmp/edgeagent_edge"
        env: {}

      CLOUD:
        transport: stdio
        command: npx
        args:
          - "-y"
          - "@modelcontextprotocol/server-filesystem"
          - "/tmp/edgeagent_cloud"
        env: {}

  # ==========================================================================
  # FastMCP 서버 (Python) - 4개
  # ==========================================================================

  summarize:
    profile:
      description: "Text summarization using OpenAI or Upstage API"
      data_affinity: EDGE
      compute_intensity: MEDIUM
      data_flow: REDUCTION
      reduction_ratio: 0.2
      requires_cloud_api: true
      privacy_sensitive: false
      wasi_compatible: false
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/summarize_server.py"
        env:
          SUMMARIZE_PROVIDER: "${SUMMARIZE_PROVIDER:-openai}"
          OPENAI_API_KEY: "${OPENAI_API_KEY}"
          UPSTAGE_API_KEY: "${UPSTAGE_API_KEY}"

  log_parser:
    profile:
      description: "Parse various log formats and extract structured data"
      data_affinity: EDGE
      compute_intensity: MEDIUM
      data_flow: REDUCTION
      reduction_ratio: 0.01
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: true
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/log_parser_server.py"
        env: {}

  data_aggregate:
    profile:
      description: "Aggregate, merge, and summarize structured data"
      data_affinity: EDGE
      compute_intensity: LOW
      data_flow: REDUCTION
      reduction_ratio: 0.01
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: true
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/data_aggregate_server.py"
        env: {}

  image_resize:
    profile:
      description: "Image resizing, thumbnails, and duplicate detection"
      data_affinity: EDGE
      compute_intensity: MEDIUM
      data_flow: REDUCTION
      reduction_ratio: 0.1
      requires_cloud_api: false
      privacy_sensitive: false
      wasi_compatible: false
      requires_gpu: false

    endpoints:
      EDGE:
        transport: stdio
        command: python
        args:
          - "servers/image_resize_server.py"
        env: {}


# ============================================================================
# Static Mapping
# ============================================================================

static_mapping:
  filesystem: DEVICE
  summarize: EDGE
  log_parser: EDGE
  data_aggregate: EDGE
  image_resize: EDGE
